<template>
  <div>
    <div class="navbar-actions">
      <div class="messages">
        <v-badge
            color="#FF9F2F"
            content="6"
        >
          <svg width="26" height="25" viewBox="0 0 26 25" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M25.2428 8.19706C24.7622 8.44181 24.2508 8.6204 23.7224 8.72798C23.9893 9.54633 24.1277 10.4011 24.1327 11.2619C24.1143 12.4967 23.8396 13.7143 23.3258 14.8374C22.8121 15.9604 22.0705 16.9644 21.1482 17.7858C21.0674 17.8608 21.0028 17.9516 20.9585 18.0526C20.9142 18.1536 20.8912 18.2627 20.8908 18.373V22.6686L17.3675 20.4243C17.2692 20.3621 17.1586 20.3221 17.0433 20.3068C16.9281 20.2915 16.8109 20.3014 16.6998 20.3358C15.46 20.7209 14.169 20.9161 12.8707 20.915C6.66061 20.915 1.60884 16.5872 1.60884 11.2619C1.60884 5.93663 6.66061 1.60884 12.8707 1.60884C14.11 1.60869 15.3427 1.78751 16.5309 2.13976C16.581 1.6057 16.7028 1.0808 16.8929 0.579184C15.586 0.198018 14.232 0.00303665 12.8707 0C5.77575 0 0 5.05177 0 11.2619C0 17.472 5.77575 22.5238 12.8707 22.5238C14.1982 22.5223 15.5191 22.3382 16.7963 21.9768L21.2448 24.8084C21.3662 24.8863 21.5064 24.9301 21.6506 24.9352C21.7948 24.9404 21.9377 24.9066 22.0644 24.8375C22.191 24.7684 22.2968 24.6665 22.3705 24.5425C22.4443 24.4185 22.4833 24.2769 22.4836 24.1327V18.7189C23.4901 17.7533 24.2933 16.5962 24.8459 15.3155C25.3985 14.0349 25.6893 12.6566 25.7013 11.2619C25.7101 10.2226 25.5554 9.18831 25.2428 8.19706Z" fill="#F4F9FF"/>
            <path d="M7.23997 10.4575C7.02662 10.4575 6.82201 10.5423 6.67116 10.6931C6.5203 10.844 6.43555 11.0486 6.43555 11.2619C6.43555 11.4753 6.5203 11.6799 6.67116 11.8308C6.82201 11.9816 7.02662 12.0664 7.23997 12.0664H18.5019C18.7152 12.0664 18.9198 11.9816 19.0707 11.8308C19.2215 11.6799 19.3063 11.4753 19.3063 11.2619C19.3063 11.0486 19.2215 10.844 19.0707 10.6931C18.9198 10.5423 18.7152 10.4575 18.5019 10.4575H7.23997Z" fill="#F4F9FF"/>
            <path d="M9.8552 14.4797C9.64186 14.4797 9.43725 14.5645 9.28639 14.7153C9.13553 14.8662 9.05078 15.0708 9.05078 15.2842C9.05078 15.4975 9.13553 15.7021 9.28639 15.853C9.43725 16.0038 9.64186 16.0886 9.8552 16.0886H15.8884C16.1017 16.0886 16.3063 16.0038 16.4572 15.853C16.608 15.7021 16.6928 15.4975 16.6928 15.2842C16.6928 15.0708 16.608 14.8662 16.4572 14.7153C16.3063 14.5645 16.1017 14.4797 15.8884 14.4797H9.8552Z" fill="#F4F9FF"/>
            <path d="M6.66211 7.23997C6.66211 7.45331 6.74686 7.65792 6.89772 7.80878C7.04858 7.95964 7.25319 8.04439 7.46653 8.04439H18.278C18.4119 8.04196 18.5432 8.00611 18.6598 7.94009C18.7764 7.87406 18.8746 7.77995 18.9456 7.66631C18.4726 7.31865 18.0526 6.90406 17.6988 6.43555H7.46653C7.25319 6.43555 7.04858 6.5203 6.89772 6.67116C6.74686 6.82201 6.66211 7.02662 6.66211 7.23997Z" fill="#F4F9FF"/>
          </svg>
        </v-badge>
      </div>
      <div class="notifications">
        <v-badge
            color="#FF9F2F"
            content="6"
        >
          <svg width="19" height="25" viewBox="0 0 19 25" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M18.1015 20.0678C18.0328 20.0217 17.5161 19.6473 16.9986 18.5148C16.0483 16.4352 15.8489 13.5055 15.8489 11.4141C15.8489 11.405 15.8487 11.396 15.8484 11.3869C15.838 8.62287 14.2375 6.24013 11.947 5.17105V3.53602C11.947 2.05229 10.7816 0.845215 9.34918 0.845215H9.13389C7.70144 0.845215 6.53606 2.05229 6.53606 3.53602V5.17095C4.23796 6.24348 2.63419 8.63839 2.63419 11.4141C2.63419 13.5055 2.43473 16.4351 1.48446 18.5148C0.967053 19.6473 0.450287 20.0216 0.38158 20.0678C0.0922421 20.2062 -0.0504196 20.5261 0.0161436 20.8503C0.0833456 21.1776 0.379253 21.4033 0.702397 21.4033H5.71845C5.74647 23.3914 7.31561 25 9.24156 25C11.1675 25 12.7367 23.3914 12.7647 21.4033H17.7807C18.1038 21.4033 18.3998 21.1776 18.467 20.8503C18.5335 20.5261 18.3908 20.2062 18.1015 20.0678ZM7.90478 3.53602C7.90478 2.83398 8.45617 2.26285 9.13394 2.26285H9.34923C10.027 2.26285 10.5784 2.83398 10.5784 3.53602V4.71154C10.1464 4.61921 9.69929 4.57062 9.24138 4.57062C8.7836 4.57062 8.33659 4.61917 7.90482 4.7114V3.53602H7.90478ZM9.24156 23.5824C8.07029 23.5824 7.11491 22.6097 7.08713 21.4034H11.3959C11.3682 22.6097 10.4128 23.5824 9.24156 23.5824ZM11.9972 19.9856C11.997 19.9856 2.262 19.9856 2.262 19.9856C2.38039 19.7948 2.50088 19.5788 2.62064 19.3347C3.53784 17.4644 4.00291 14.7996 4.00291 11.4141C4.00291 8.42227 6.35288 5.98825 9.24133 5.98825C12.1298 5.98825 14.4798 8.42227 14.4798 11.4165C14.4798 11.4252 14.4799 11.4339 14.4802 11.4426C14.4828 14.8144 14.9478 17.4697 15.8625 19.3347C15.9822 19.5789 16.1028 19.7948 16.2211 19.9856H11.9972Z" fill="#F4F9FF"/>
          </svg>
        </v-badge>
      </div>
      <div class="user" @click="toggleUserInfo">
        <div class="user-info" v-if="userInfoOpen">
          <div class="user-info-header" v-if="user">
            <div class="user-name">{{ user.first_name }} {{user.last_name}}</div>
            <div class="user-position">{{$t('user.manager')}}</div>
          </div>
          <div class="user-info-content">
            <div class="user-actions">
              <div class="user-action">{{$t('user.settings')}}</div>
              <div class="user-action">{{$t('user.tasks')}}</div>
              <div class="user-action">{{$t('user.events')}}</div>
              <div class="user-action">{{$t('user.reminders')}}</div>
            </div>
            <div class="user-exit" @click="logout()">{{$t('user.exit')}}</div>
          </div>
        </div>
        <div class="user-avatar">
          <div class="avatar-wrap">
            <img src="@/assets/img/avatar.png" alt="" v-if="isAvatar">
            <svg v-else width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20 0C9.158 0 0 9.158 0 20C0 30.842 9.158 40 20 40C30.842 40 40 30.842 40 20C40 9.158 30.842 0 20 0ZM20 10C23.454 10 26 12.544 26 16C26 19.456 23.454 22 20 22C16.548 22 14 19.456 14 16C14 12.544 16.548 10 20 10ZM9.788 29.544C11.582 26.904 14.574 25.144 18 25.144H22C25.428 25.144 28.418 26.904 30.212 29.544C27.656 32.28 24.03 34 20 34C15.97 34 12.344 32.28 9.788 29.544Z" fill="#9DCCFF"/>
            </svg>
          </div>
          <svg class="avatar-icon" :class="{rotate: userInfoOpen}" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="7.5" fill="#FF9F2F"/>
            <path d="M5.13576 8.46642L8.92315 12.3602C9.01075 12.4503 9.12769 12.5 9.25237 12.5C9.37706 12.5 9.49399 12.4503 9.58159 12.3602L9.86051 12.0735C10.042 11.8867 10.042 11.5831 9.86051 11.3966L6.68014 8.12681L9.86404 4.85341C9.95163 4.76328 10 4.64313 10 4.51501C10 4.38675 9.95163 4.2666 9.86404 4.1764L9.58512 3.88978C9.49745 3.79965 9.38059 3.75 9.2559 3.75C9.13122 3.75 9.01428 3.79965 8.92668 3.88978L5.13576 7.78713C5.04795 7.87755 4.99972 7.99827 5 8.1266C4.99972 8.25543 5.04795 8.37608 5.13576 8.46642Z" fill="white"/>
          </svg>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import {mapGetters} from 'vuex'
export default {
  name: "Navbar",
  data() {
    return {
      isAvatar: false,
      userInfoOpen: false
    }
  },

  computed: {
    ...mapGetters([
        'user'
    ])
  },
  methods: {
    logout() {
      this.$store.dispatch('logout')
    },
    toggleUserInfo() {
      this.userInfoOpen = !this.userInfoOpen
    }
  }
}
</script>

<style scoped>

</style>